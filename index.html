<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Robin Pandey — Full Stack Developer</title>
  <meta name="description" content="Robin Pandey — Full Stack Developer (React, .NET Core, MySQL). Open to Work. Portfolio with projects, resume and contact." />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <meta name="color-scheme" content="dark">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#061021; --bg-2:#071429; --muted:#9fb0c8;
      --accent:#7c3aed; --accent2:#06b6d4; --glass:rgba(255,255,255,0.03);
      --card-grad: linear-gradient(90deg,var(--accent), var(--accent2));
      --maxw:1200px; --radius:14px; --ease:cubic-bezier(.2,.9,.3,1);
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; background:linear-gradient(180deg,var(--bg-1),var(--bg-2)); color:#e6f3ff}
    body{display:flex; align-items:center; justify-content:center; padding:22px}

    .wrap{width:100%; max-width:var(--maxw); border-radius:16px; overflow:hidden;
      background:
        radial-gradient(600px 200px at 10% 10%, rgba(124,58,237,0.05), transparent 8%),
        radial-gradient(400px 150px at 90% 85%, rgba(6,182,212,0.03), transparent 6%),
        linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
      border:1px solid rgba(255,255,255,0.03); box-shadow: 0 30px 80px rgba(2,6,23,0.65);
    }

    .mini-sticky{position:sticky; top:10px; z-index:60; display:flex; justify-content:flex-end; padding:10px 18px; backdrop-filter: blur(6px);}
    .mini-name{background: var(--card-grad); color:white; padding:8px 14px; border-radius:999px; font-weight:800; box-shadow:0 8px 30px rgba(124,58,237,0.15)}

    header{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px 22px; border-bottom:1px solid rgba(255,255,255,0.02); backdrop-filter: blur(6px); position:relative; background:linear-gradient(180deg, rgba(6,10,17,0.55), rgba(6,10,17,0.35));}
    .brand{display:flex; gap:12px; align-items:center}
    .logo{width:46px; height:46px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-weight:800; color:white; background:linear-gradient(135deg,var(--accent), #4f46e5); box-shadow: 0 10px 28px rgba(79,70,229,0.14)}
    nav{display:flex; gap:10px; align-items:center}
    nav a{color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:10px; font-weight:700; position:relative}
    nav a:hover{color:white}
    nav a::after{content:""; position:absolute; left:12px; right:12px; height:3px; bottom:6px; background:var(--card-grad); border-radius:6px; transform-origin:left; transform:scaleX(0); transition:transform .28s var(--ease)}
    nav a:hover::after{transform:scaleX(1)}
    .cta-resume{background:var(--card-grad); color:white; padding:9px 14px; border-radius:10px; font-weight:800; text-decoration:none}

    .hamb{display:none; width:44px; height:44px; border-radius:10px; background:transparent; border:1px solid rgba(255,255,255,0.03); align-items:center; justify-content:center}
    .hamb span{display:block; width:18px; height:2px; background:var(--muted); border-radius:2px}
    .hamb span+span{margin-top:5px}
    .mobile-menu{display:none; position:absolute; right:18px; top:64px; padding:12px; background:linear-gradient(180deg, rgba(3,7,18,0.96), rgba(3,7,18,0.9)); border-radius:12px; box-shadow:0 20px 40px rgba(2,6,23,0.6)}
    .mobile-menu a{display:block; padding:10px; color:var(--muted); text-decoration:none; border-radius:8px}
    .mobile-menu a:hover{color:white; background:rgba(255,255,255,0.02)}
    @media (max-width:1000px){ nav{display:none} .hamb{display:flex} }

    .hero{display:grid; grid-template-columns:430px 1fr}
    @media (max-width:980px){ .hero{grid-template-columns:1fr} header{padding:12px} }

    .left{padding:36px; min-height:520px; display:flex; flex-direction:column; gap:16px}
    .avatar{width:140px; height:140px; border-radius:18px; background:linear-gradient(180deg,var(--accent), #4f46e5); display:flex; align-items:center; justify-content:center; font-weight:900; font-size:32px; color:white; box-shadow:0 18px 50px rgba(79,70,229,0.16); overflow:hidden; transition: transform .6s var(--ease);}
    .avatar img{width:100%; height:100%; object-fit:cover; display:block}
    .open-badge{display:inline-block; padding:8px 12px; background: linear-gradient(90deg,#10b981,#06b6d4); color:white; border-radius:999px; font-weight:800; font-size:13px}
    .name{font-size:28px; font-weight:900; margin-top:10px}
    .roles{color:var(--muted); font-weight:700; margin-top:6px}
    .hero-desc{margin-top:12px; color:#dbeafe; font-weight:600; line-height:1.5}
    .left-actions{margin-top:14px; display:flex; gap:12px; flex-wrap:wrap}
    .btn{padding:10px 14px; border-radius:10px; font-weight:800; text-decoration:none; display:inline-flex; gap:10px; align-items:center}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent2)); color:white}
    .btn-ghost{border:1px solid rgba(255,255,255,0.04); color:var(--muted); background:transparent}
    .left-foot{margin-top:auto; color:var(--muted); font-size:14px}
    .left-foot a{color:inherit; text-decoration:none; display:block; margin-top:8px}

    .right{padding:28px 36px}
    .kicker{color:var(--accent2); font-weight:800; letter-spacing:0.9px}
    .title{font-size:30px; color:white; margin-top:8px; font-weight:900}
    .subtitle{color:#cfe8ff; margin-top:8px; font-weight:700}
    .lead{color:var(--muted); margin-top:14px; font-size:15px; max-width:70ch}

    .section{margin-top:20px; display:none}
    .section.active{display:block}
    .section h2{margin:0; font-size:20px; color:white}

    /* --- Projects scroll area fix & styling --- */
    #projects-area {
      margin-top:12px;
      /* make the projects area scrollable and capped so layout won't break */
      max-height: 56vh;           /* comfortable on laptop / tablet / mobile */
      overflow-y: auto;
      padding-right: 8px;         /* space for scrollbar */
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
    /* Responsive grid inside the scrollable container */
    @media (max-width:1100px) { #projects-area { grid-template-columns: repeat(2,1fr); } }
    @media (max-width:680px) { #projects-area { grid-template-columns: 1fr; max-height: 60vh; } }

    /* custom scrollbar (webkit) */
    #projects-area::-webkit-scrollbar{ width:9px }
    #projects-area::-webkit-scrollbar-thumb{ background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03)); border-radius:999px; border:1px solid rgba(255,255,255,0.02) }
    #projects-area::-webkit-scrollbar-track{ background:transparent }

    .repo-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:14px; border-radius:12px; border:1px solid rgba(255,255,255,0.03); transition: transform .28s var(--ease), box-shadow .28s var(--ease); position:relative; overflow:hidden; display:flex; flex-direction:column; min-height:140px}
    .repo-card:hover{transform:translateY(-8px) rotateX(.5deg); box-shadow:0 26px 46px rgba(2,6,23,0.6)}
    .repo-title{font-weight:800; font-size:15px; color:#e6f7ff}
    .repo-desc{color:var(--muted); margin-top:8px; flex:1; font-size:14px}
    .repo-meta{margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .repo-lang{background:rgba(255,255,255,0.02); padding:6px 8px; border-radius:999px; font-weight:800; color:#cfe8ff; font-size:13px}
    .repo-links{margin-left:auto; display:flex; gap:8px}
    .repo-links a{color:var(--muted); text-decoration:none; font-weight:700; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.03)}
    .repo-rating{display:flex; gap:4px; align-items:center; color:#ffd166; font-size:14px; font-weight:800}

    /* ability to show a small ribbon for resume-sourced projects */
    .from-resume{position:absolute; right:12px; top:12px; background:rgba(255,255,255,0.03); color:#dbeafe; padding:6px 8px; border-radius:8px; font-weight:700; font-size:12px; backdrop-filter: blur(4px)}

    .about-grid{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:12px}
    @media (max-width:900px){ .about-grid{grid-template-columns:1fr} }
    .box{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); padding:16px; border-radius:12px; border:1px solid rgba(255,255,255,0.03); color:var(--muted)}
    .box strong{color:#e6f3ff}

    .contact-row{display:flex; gap:12px; margin-top:12px; align-items:center}
    .icon{width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,0.02); color:#cfe8ff; font-weight:800; text-decoration:none}

    footer{margin-top:26px; padding:18px; text-align:center; color:var(--muted); border-top:1px solid rgba(255,255,255,0.02)}
    :focus{outline:2px solid rgba(124,58,237,0.25); outline-offset:3px}
    @media (prefers-reduced-motion: reduce){ *{transition:none!important} }
  </style>
</head>
<body>
  <div class="wrap" role="main" aria-live="polite">
    <div class="mini-sticky"><div class="mini-name">Robin Pandey</div></div>

    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">RP</div>
        <div>
          <h1 style="margin:0; font-size:16px">Robin Pandey</h1>
          <p style="margin:0; font-size:12px; color:var(--muted)">Full Stack Developer — Open to work</p>
        </div>
      </div>

      <nav aria-label="Primary navigation">
        <a href="#" data-show="home" class="nav-link">Home</a>
        <a href="#" data-show="about" class="nav-link">About</a>
        <a href="#" data-show="projects" class="nav-link">Projects</a>
        <a href="#" data-show="contact" class="nav-link">Contact</a>
        <a class="cta-resume" href="assets/Robin-Pandey-Resume.pdf" download>Download Resume</a>
      </nav>

      <button class="hamb" aria-label="Open menu" aria-expanded="false"><span></span><span></span></button>
      <div class="mobile-menu" aria-hidden="true">
        <a href="#" data-show="home">Home</a>
        <a href="#" data-show="about">About</a>
        <a href="#" data-show="projects">Projects</a>
        <a href="#" data-show="contact">Contact</a>
        <a href="assets/Robin-Pandey-Resume.pdf" download>Resume</a>
      </div>
    </header>

    <div class="hero">
      <aside class="left" aria-labelledby="hero-name">
        <div style="display:flex; gap:16px; align-items:center">
          <div class="avatar" id="avatar">
            <img id="avatar-img" src="" alt="" style="display:none">
            <span id="avatar-initials">RP</span>
          </div>
          <div>
            <div id="hero-name" class="name">Robin Pandey</div>
            <div class="roles">Full Stack Developer • React · .NET Core · MySQL</div>
            <div style="margin-top:8px"><span class="open-badge">Open to Work</span></div>
          </div>
        </div>

        <div class="hero-desc">
          Creative problem-solver and fast learner with hands-on experience building real-time applications (Doctora), production backends (AcademyGo) and responsive frontends. I ship well-tested, maintainable code and collaborate effectively in agile teams.
        </div>

        <div class="left-actions">
          <a href="#" class="btn btn-primary nav-link" data-show="projects">See Projects</a>
          <a href="mailto:pandeyrobin19009@gmail.com" class="btn btn-ghost">Email Me</a>
        </div>

        <div class="left-foot">
          <div><strong>Location:</strong> Panipat, Haryana</div>
          <div style="margin-top:8px"><strong>Phone:</strong> +91-7027325861</div>
          <div style="margin-top:8px"><a href="https://github.com/R0bin-Pandey" target="_blank" rel="noopener">github.com/R0bin-Pandey</a></div>
        </div>
      </aside>

      <main class="right" id="content" aria-live="polite">
        <section id="home" class="section active" aria-labelledby="home-title">
          <div class="kicker">Welcome</div>
          <h2 id="home-title" class="title">Hi — I'm Robin. I build web apps that scale.</h2>
          <div class="subtitle">Real-time features, clean APIs, and thoughtful UI/UX</div>
          <p class="lead">Explore my projects and experience. Projects are fetched live from GitHub and can also include projects exported from your resume.</p>
        </section>

        <section id="about" class="section" aria-labelledby="about-title">
          <h2 id="about-title">About me</h2>
          <p style="margin-top:10px; color:var(--muted)">I am a creative, detail-oriented Full Stack Developer and a good learner with strong problem-solving skills. I enjoy building both front-end experiences and robust back-end systems, and I am comfortable working across the full stack.</p>

          <div class="about-grid" style="margin-top:14px">
            <div class="box">
              <strong>Summary</strong>
              <p style="margin-top:8px; color:var(--muted)">Full Stack Developer & Project Engineer skilled in React.js, .NET Core (C#) and MySQL. Experienced in developing scalable, user-friendly web apps with clean architecture and CI/CD pipelines.</p>
            </div>

            <div class="box">
              <strong>Training & Qualifications</strong>
              <ul style="margin-top:8px; color:var(--muted); padding-left:18px">
                <li>Kurukshetra University — Bachelor of Computer Applications (B.C.A)</li>
                <li>Microsoft Course — BICA Academy</li>
                <li>Frontend Development — Coders Academy</li>
                <li>Backend Development — Coders Academy</li>
                <li>ChatGPT Certificate Course — Great Learning</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="projects" class="section" aria-labelledby="projects-title">
          <h2 id="projects-title">Projects (live + resume)</h2>
          <p style="color:var(--muted); margin-top:8px">Repositories fetched from <strong>github.com/R0bin-Pandey</strong>. Resume projects (if provided) are merged below.</p>

          <!-- IMPORTANT: if you want to include projects from your resume,
               create a JSON file at assets/resume-projects.json with this structure:
               [
                 { "name": "Project from Resume", "description": "Short desc", "language": "C#", "url":"https://github.com/your/repo", "rating": 4 }
               ]
               The script below will merge those entries with GitHub repos.
          -->
          <div id="projects-area" aria-live="polite">
            <div style="grid-column:1/-1; color:var(--muted)" id="repo-loading">Loading repositories…</div>
          </div>
        </section>

        <section id="contact" class="section" aria-labelledby="contact-title">
          <h2 id="contact-title">Contact</h2>
          <p style="color:var(--muted); margin-top:8px">Available for full-time and remote roles. Open to freelance and collaborations.</p>

          <div style="margin-top:12px" class="contact-row">
            <a class="icon" href="mailto:pandeyrobin19009@gmail.com" title="Email"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 6.5v11A2.5 2.5 0 0 0 5.5 20h13A2.5 2.5 0 0 0 21 17.5v-11A2.5 2.5 0 0 0 18.5 4h-13A2.5 2.5 0 0 0 3 6.5z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 7.25l-9 6-9-6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>

            <a class="icon" href="https://www.linkedin.com/in/robin-pandey-1929a723a" target="_blank" title="LinkedIn" rel="noopener"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M16 8a6 6 0 0 1 6 6v6h-4v-6a2 2 0 0 0-4 0v6h-4v-12h4v2a4 4 0 0 1 4-2zM2 9h4v12H2zM4 3a2 2 0 1 1 0 4 2 2 0 0 1 0-4z" stroke="currentColor" stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round"/></svg></a>

            <a class="icon" href="https://github.com/R0bin-Pandey" target="_blank" title="GitHub" rel="noopener"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 .5C5.4.5.5 5.4.5 12c0 5.1 3.3 9.4 7.9 10.9.6.1.8-.2.8-.5v-2c-3.2.7-3.9-1.5-3.9-1.5-.5-1.2-1.3-1.6-1.3-1.6-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1.8 1.8 0 2.4 0 0 1.7.2 3.9-.9 0 0 .6-.3 1.9 0 0 0 1.7 0 3.9.9 0-.6-.1-1.9-.3-2.3-1.7 0-3.4.6-3.9.6-.3 0-.2-.6.1-1.1 0 0 1.4-.5 3.3-1.1 0 0 1.5-.6 2.8-2.3 0 0 1.1-1.8 0-4.3 0 0-.9-.4-3 .9 0 0-1.4-.4-2.9-.4s-2.9.4-2.9.4c-2.1-1.3-3-.9-3-.9-1 2.6 0 4.3 0 4.3 1.3 1.7 2.8 2.3 2.8 2.3 1.9.6 3.3 1.1 3.3 1.1.3.5.4 1.1.1 1.1-.5 0-2.2-.6-3.9-.6-.2.4-.4 1.7-.3 2.3C3.4 21.3 2 17.9 2 13.5 2 6.8 6.9 2 12 2.5"></path></svg></a>
          </div>
        </section>

        <footer>© Robin Pandey — Full Stack Developer</footer>
      </main>
    </div>
  </div>

  <script>
    /********************
     Behavior & JS
     ********************/

    // -- Section show/hide utility
    function showSection(id){
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      const sec = document.getElementById(id);
      if(sec) sec.classList.add('active');
      document.querySelectorAll('.nav-link').forEach(a => {
        if(a.dataset.show === id) a.style.opacity = '1'; else a.style.opacity = '0.75';
      });
      // hide mobile menu if open
      closeMobile();
      // if projects, prefetch
      if(id === 'projects') fetchRepos();
      // scroll content top
      document.getElementById('content').scrollTop = 0;
    }

    // nav link handlers (desktop + CTA)
    document.querySelectorAll('.nav-link').forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const id = a.dataset.show;
        showSection(id);
      });
    });

    // mobile toggles
    const hamb = document.querySelector('.hamb'), mobileMenu = document.querySelector('.mobile-menu');
    function closeMobile(){ mobileMenu.style.display = 'none'; hamb.setAttribute('aria-expanded','false') }
    hamb.addEventListener('click', ()=> {
      const open = hamb.getAttribute('aria-expanded') === 'true';
      hamb.setAttribute('aria-expanded', String(!open));
      mobileMenu.style.display = open ? 'none' : 'block';
    });
    document.addEventListener('click', (e)=>{ if(!mobileMenu.contains(e.target) && !hamb.contains(e.target) && mobileMenu.style.display === 'block') closeMobile(); });

    // Avatar load (if you put assets/avatar.jpg it will show)
    (function loadAvatar(){
      const img = document.getElementById('avatar-img');
      const initials = document.getElementById('avatar-initials');
      img.src = 'assets/avatar.jpg';
      img.onload = ()=>{ img.style.display='block'; initials.style.display='none'; };
      img.onerror = ()=>{ img.style.display='none'; initials.style.display='block'; };
    })();

    // --- Repos fetch + merge with resume JSON ---
    // Behavior:
    // 1) fetch GitHub public repos for user R0bin-Pandey
    // 2) attempt to fetch local resume-projects JSON (assets/resume-projects.json)
    // 3) merge resume projects on top (resume projects appear first and labeled)
    // 4) render cards inside #projects-area (which is scrollable)
    let reposLoaded = false;
    async function fetchRepos(){
      const area = document.getElementById('projects-area');
      const loading = document.getElementById('repo-loading');
      if(!area) return;
      loading && (loading.textContent = 'Loading repositories…');

      if(reposLoaded) { loading && (loading.style.display='none'); return; }

      try {
        // fetch resume projects (local JSON) first (optional)
        let resumeProjects = [];
        try {
          const rres = await fetch('assets/resume-projects.json', { cache: 'no-store' });
          if(rres.ok){
            resumeProjects = await rres.json();
            // normalize resumeProjects to include fields: name, description, url, language, rating (optional)
            if(!Array.isArray(resumeProjects)) resumeProjects = [];
          }
        } catch(e){ /* no resume JSON found or parse error — ignore */ }

        // fetch GitHub repos
        const resp = await fetch('https://api.github.com/users/R0bin-Pandey/repos?per_page=100&sort=updated');
        if(!resp.ok) throw new Error('GitHub API error ' + resp.status);
        const repos = await resp.json();
        const filtered = Array.isArray(repos) ? repos.filter(r => !r.fork) : [];

        // convert GitHub repos into unified project objects
        const ghProjects = filtered.map(r => ({
          source: 'github',
          name: r.name,
          description: r.description || 'No description provided.',
          language: r.language || '',
          stars: r.stargazers_count || 0,
          url: r.html_url,
          homepage: r.homepage || ''
        }));

        // map resumeProjects to unified objects (resumeProjects may include rating)
        const resumeMapped = resumeProjects.map(p => ({
          source: 'resume',
          name: p.name || 'Unnamed Project',
          description: p.description || '',
          language: p.language || '',
          rating: Number(p.rating) || null,
          url: p.url || '#'
        }));

        // final projects array: resume ones first, then GH (avoid duplicates by name)
        const names = new Set(resumeMapped.map(x=>x.name.toLowerCase()));
        const combined = [...resumeMapped, ...ghProjects.filter(g => !names.has(g.name.toLowerCase()))];

        // render
        area.innerHTML = '';
        if(combined.length === 0){
          area.innerHTML = '<div style="grid-column:1/-1;color:var(--muted)">No projects found (GitHub or resume JSON).</div>';
          reposLoaded = true;
          return;
        }

        combined.forEach(p => {
          const card = document.createElement('article');
          card.className = 'repo-card';
          // rating: if resume provided, use rating; otherwise derive from stars => 1..5 scale
          let rating = p.rating || 0;
          if(!rating){
            const stars = p.stars || 0;
            rating = Math.min(5, Math.max(1, Math.ceil(stars / 10))); // 0-10 =>1, 11-20=>2, etc.
          }
          // build star string
          const starFull = '★', starEmpty = '☆';
          const starHtml = Array.from({length:5}, (_,i) => i < rating ? `<span style="color:#ffd166">${starFull}</span>` : `<span style="opacity:0.18">${starEmpty}</span>`).join('');

          card.innerHTML = `
            ${p.source === 'resume' ? '<div class="from-resume">Resume</div>' : ''}
            <div class="repo-title">${escapeHTML(p.name)}</div>
            <div class="repo-desc">${escapeHTML(p.description)}</div>
            <div class="repo-meta" aria-hidden="true">
              ${p.language ? `<div class="repo-lang">${escapeHTML(p.language)}</div>` : ''}
              <div class="repo-rating" title="Rating">${starHtml}</div>
              <div class="repo-links" style="margin-left:auto">
                ${p.url ? `<a href="${p.url}" target="_blank" rel="noopener">Open</a>` : ''}
                ${p.homepage ? `<a href="${p.homepage}" target="_blank" rel="noopener">Demo</a>` : ''}
              </div>
            </div>
          `;
          // keyboard accessibility: Enter opens URL
          card.tabIndex = 0;
          card.addEventListener('keypress', (e)=>{ if(e.key === 'Enter' && p.url) window.open(p.url, '_blank'); });

          // subtle tilt on mouse (light)
          card.addEventListener('mousemove', ev=>{
            const r = card.getBoundingClientRect(), x = (ev.clientX - r.left)/r.width - 0.5, y = (ev.clientY - r.top)/r.height - 0.5;
            card.style.transform = `perspective(800px) rotateX(${ -y * 4 }deg) rotateY(${ x * 4 }deg) translateZ(0)`;
          });
          card.addEventListener('mouseleave', ()=> card.style.transform = '');

          area.appendChild(card);
        });

        reposLoaded = true;
        loading && (loading.style.display='none');
      } catch(err){
        area.innerHTML = `<div style="grid-column:1/-1; color:#fca5a5">Failed to load repositories: ${escapeHTML(err.message)}</div>`;
        reposLoaded = true;
      }
    }

    // simple escape
    function escapeHTML(s){ return String(s||'').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

    // on first load
    showSection('home');

    // prefetch when hovering projects link
    document.querySelectorAll('[data-show="projects"]').forEach(n=>{
      n.addEventListener('mouseenter', ()=>{ if(!reposLoaded) fetchRepos(); });
    });

    // close mobile on escape
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMobile(); });

    // handle popstate (hash optional)
    window.addEventListener('popstate', ()=> {
      const id = location.hash?.replace('#','') || 'home';
      showSection(id);
    });

    // Accessibility: ensure mobile nav closes when resizing
    window.addEventListener('resize', ()=> { if(window.innerWidth > 1000) closeMobile(); });

  </script>
</body>
</html>
